<!--Navigation-->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top ">
	<div class="container">
		<div class="navbar-header">
			<button class="navbar-toggle" >
			    <span class="sr-only">Toggle navigation</span>
			    <span class="icon-bar"></span>
			    <span class="icon-bar"></span>
			    <span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="{{ site.baseurl }}/">{{ site.title }}</a>
		</div>
        <div id="Bingblog_navbar">
        	<div class="navbar-collapse">
        		<ul class="nav navbar-nav navbar-right">
        			<li>
        				<a href="{{ site.baseurl }}/">Home</a>
        			</li>
        			{% for page in site.pages %}{% if page.title %}
        			<li>
        				<a href="{{ page.url | prepend: site.baseurl }}">{{ page.title }}</a>
        			</li>
        			{% endif %}{% endfor %}
        		</ul>
        	</div>
        </div><!--/.Bingblog_navbar-->

	</div>
	<!-- /.container -->
</nav>
<script>
	//Drop Bootstrap low-performance Navbar
	//Use customize navbar with height-quality material design animation
	var $toggle = document.querySelector('.navbar-toggle');
	var $navbar = document.querySelector('#Bingblog_navbar');
	var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click',handleMagic);
	function handleMagic(e){
		if($navbar.className.indexOf('in') > 0) {
		// Close
		   $navbar.className = " ";
		   //wait until animation end.
		   setTimeout(function(){
		   	  //prevent frequently toggle
		   	  if($navbar.className.indexOf('in') < 0) {
		   	  	 $collapse.style.height = "0px";
		   	  }
		   },400)	
		}else{
		//OPEN
		 $collapse.style.height = "auto"
		 $navbar.className += " in";
		}
	}
</script>